# Docker Compose for Games Collection (Hybrid Setup)
# **Timestamp**: 2025-12-04
# 
# HYBRID ARCHITECTURE:
# - Linux container: Web server only (serves HTML/JS/CSS)
# - Windows host: AI engines (Stockfish, YaneuraOu, KataGo) + Python servers
# 
# This allows using Linux containers while running Windows .exe files on the host,
# similar to how Ollama/LM Studio work - they run on Windows, containers connect to them.

version: '3.8'

services:
  games-web:
    build:
      context: .
      dockerfile: Dockerfile.linux
    container_name: games-collection-web
    ports:
      - "9876:80"        # Web interface
    volumes:
      # Mount code for development (hot reload)
      - ./:/app:ro
    restart: unless-stopped
    networks:
      - games-network
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost/"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

networks:
  games-network:
    driver: bridge

